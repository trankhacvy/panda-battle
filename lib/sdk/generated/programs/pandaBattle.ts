/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  containsBytes,
  fixEncoderSize,
  getBytesEncoder,
  type Address,
  type ReadonlyUint8Array,
} from '@solana/kit';
import {
  type ParsedApplyIdleDecayInstruction,
  type ParsedClaimRewardInstruction,
  type ParsedCreateRoundInstruction,
  type ParsedEndRoundInstruction,
  type ParsedInitializeGameInstruction,
  type ParsedInitiateBattleInstruction,
  type ParsedJoinRoundInstruction,
  type ParsedPurchaseTurnsInstruction,
  type ParsedRegenerateTurnsInstruction,
  type ParsedUpdateConfigInstruction,
} from '../instructions';

export const PANDA_BATTLE_PROGRAM_ADDRESS =
  '2U6NvgpGn779fBKMziM88UxQqWwstTgQm4LLHyt7JqyG' as Address<'2U6NvgpGn779fBKMziM88UxQqWwstTgQm4LLHyt7JqyG'>;

export enum PandaBattleAccount {
  GameConfig,
  GameRound,
  PlayerState,
}

export function identifyPandaBattleAccount(
  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): PandaBattleAccount {
  const data = 'data' in account ? account.data : account;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([45, 146, 146, 33, 170, 69, 96, 133])
      ),
      0
    )
  ) {
    return PandaBattleAccount.GameConfig;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([69, 45, 252, 31, 254, 31, 101, 146])
      ),
      0
    )
  ) {
    return PandaBattleAccount.GameRound;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([56, 3, 60, 86, 174, 16, 244, 195])
      ),
      0
    )
  ) {
    return PandaBattleAccount.PlayerState;
  }
  throw new Error(
    'The provided account could not be identified as a pandaBattle account.'
  );
}

export enum PandaBattleInstruction {
  ApplyIdleDecay,
  ClaimReward,
  CreateRound,
  EndRound,
  InitializeGame,
  InitiateBattle,
  JoinRound,
  PurchaseTurns,
  RegenerateTurns,
  UpdateConfig,
}

export function identifyPandaBattleInstruction(
  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): PandaBattleInstruction {
  const data = 'data' in instruction ? instruction.data : instruction;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([17, 240, 86, 231, 252, 176, 111, 61])
      ),
      0
    )
  ) {
    return PandaBattleInstruction.ApplyIdleDecay;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([149, 95, 181, 242, 94, 90, 158, 162])
      ),
      0
    )
  ) {
    return PandaBattleInstruction.ClaimReward;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([229, 218, 236, 169, 231, 80, 134, 112])
      ),
      0
    )
  ) {
    return PandaBattleInstruction.CreateRound;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([54, 47, 1, 200, 250, 6, 144, 63])
      ),
      0
    )
  ) {
    return PandaBattleInstruction.EndRound;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([44, 62, 102, 247, 126, 208, 130, 215])
      ),
      0
    )
  ) {
    return PandaBattleInstruction.InitializeGame;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([248, 205, 226, 209, 41, 28, 54, 75])
      ),
      0
    )
  ) {
    return PandaBattleInstruction.InitiateBattle;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([191, 222, 86, 25, 234, 174, 157, 249])
      ),
      0
    )
  ) {
    return PandaBattleInstruction.JoinRound;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([8, 119, 199, 7, 15, 206, 50, 10])
      ),
      0
    )
  ) {
    return PandaBattleInstruction.PurchaseTurns;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([180, 10, 32, 114, 161, 116, 35, 58])
      ),
      0
    )
  ) {
    return PandaBattleInstruction.RegenerateTurns;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([29, 158, 252, 191, 10, 83, 219, 99])
      ),
      0
    )
  ) {
    return PandaBattleInstruction.UpdateConfig;
  }
  throw new Error(
    'The provided instruction could not be identified as a pandaBattle instruction.'
  );
}

export type ParsedPandaBattleInstruction<
  TProgram extends string = '2U6NvgpGn779fBKMziM88UxQqWwstTgQm4LLHyt7JqyG',
> =
  | ({
      instructionType: PandaBattleInstruction.ApplyIdleDecay;
    } & ParsedApplyIdleDecayInstruction<TProgram>)
  | ({
      instructionType: PandaBattleInstruction.ClaimReward;
    } & ParsedClaimRewardInstruction<TProgram>)
  | ({
      instructionType: PandaBattleInstruction.CreateRound;
    } & ParsedCreateRoundInstruction<TProgram>)
  | ({
      instructionType: PandaBattleInstruction.EndRound;
    } & ParsedEndRoundInstruction<TProgram>)
  | ({
      instructionType: PandaBattleInstruction.InitializeGame;
    } & ParsedInitializeGameInstruction<TProgram>)
  | ({
      instructionType: PandaBattleInstruction.InitiateBattle;
    } & ParsedInitiateBattleInstruction<TProgram>)
  | ({
      instructionType: PandaBattleInstruction.JoinRound;
    } & ParsedJoinRoundInstruction<TProgram>)
  | ({
      instructionType: PandaBattleInstruction.PurchaseTurns;
    } & ParsedPurchaseTurnsInstruction<TProgram>)
  | ({
      instructionType: PandaBattleInstruction.RegenerateTurns;
    } & ParsedRegenerateTurnsInstruction<TProgram>)
  | ({
      instructionType: PandaBattleInstruction.UpdateConfig;
    } & ParsedUpdateConfigInstruction<TProgram>);
